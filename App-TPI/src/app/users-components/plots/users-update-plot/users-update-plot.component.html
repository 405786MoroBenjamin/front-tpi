<section class="container p-5 border rounded border-3 border-secundary" style="min-height: 70vh;">
    <h3>Editar Lote</h3>
    <form [formGroup]="formReactivo" (ngSubmit)="updatePlot()">
        <div class="row">

            <div class="col-lg-6 mb-3">
                <div class="row">
                    <label class="col-2 col-form-label">N°. de lote</label>
                    <div class="col-10">
                        <input type="number" class="form-control" formControlName="plotNumber" min="0"
                            [ngClass]="onValidate('plotNumber')">
                        <div class="invalid-feedback">{{showError('plotNumber')}}</div>
                    </div>
                </div>
            </div>


            <div class="col-lg-6 mb-3">
                <div class="row">
                    <label class="col-2 col-form-label">N°. de manzana</label>
                    <div class="col-10">
                        <input type="number" class="form-control" formControlName="blockNumber"
                            [ngClass]="onValidate('blockNumber')">
                        <div class="invalid-feedback">{{showError('blockNumber')}}</div>
                    </div>
                </div>
            </div>


            <div class="col-lg-6 mb-3">
                <div class="row">
                    <label class="col-2 col-form-label">Terreno del lote (m²)</label>
                    <div class="col-10">
                        <input type="number" class="form-control" formControlName="totalArea"
                            [ngClass]="onValidate('totalArea')">
                        <div class="invalid-feedback">{{showError('totalArea')}}</div>
                    </div>
                </div>
            </div>


            <div class="col-lg-6 mb-3">
                <div class="row">
                    <label class="col-2 col-form-label">Área construida (m²)</label>
                    <div class="col-10">
                        <input type="number" class="form-control" formControlName="totalBuild"
                            [ngClass]="onValidate('totalBuild')">
                        <div class="invalid-feedback">{{showError('totalBuild')}}</div>
                    </div>
                </div>
            </div>


            <div class="col-lg-6 mb-3">
                <div class="row">
                    <label class="col-2 col-form-label">Estado</label>
                    <div class="col-10">
                        <select id="selectOption" class="form-select" id="stateId" formControlName="state"
                            [ngClass]="onValidate('state')">
                            <option value="" disabled selected>Seleccione una opción</option>
                            @for (s of states; track $index) {
                                <option value="{{s.id}}">{{s.name}}</option>
                                }
                        </select>
                        <div class="invalid-feedback">{{showError('state')}}</div>
                    </div>
                </div>
            </div>


            <div class="col-lg-6 mb-3">
                <div class="row">
                    <label class="col-2 col-form-label">Tipo</label>
                    <div class="col-10">
                        <select id="selectOption" class="form-select" formControlName="type"
                            [ngClass]="onValidate('type')">
                            <option value="" disabled selected>Seleccione una opción</option>
                            @for (t of types; track $index) {
                                <option value="{{t.id}}">{{t.name}}</option>
                                }
                        </select>
                        <div class="invalid-feedback">{{showError('type')}}</div>
                    </div>
                </div>
            </div>


            <div class="col-lg-6 mb-3">
                <app-file-upload (filesChange)="getFiles($event)" [filesLoaded]="existingFiles"/>
            </div>

            <div class="row mb-3 justify-content-end">
                <div class="col-auto">
                    <button class="btn btn-secondary me-3" type="button" (click)="confirmExit()">Cancelar</button>
                </div>
                <div class="col-auto">
                    <button class="btn btn-primary" type="submit" [disabled]="formReactivo.invalid">Guardar</button>
                </div>
              </div>
        </div>
    </form>
</section>