<section class="container p-5 border rounded border-3 border-secondary" style="min-height: 70vh;">
      <h3>Añadir Propietario</h3>
      <form [formGroup]="formReactivo" (ngSubmit)="createOwner()">
        <div class="row mb-4">
          <div class="col-6 pe-5">
            <div class="d-flex">
              <label class="form-label mb-0 me-3" style="width: 140px;">Nombre</label>
              <div class="flex-grow-1">
                <input type="text" class="form-control" formControlName="name" 
                  [ngClass]="{'is-invalid': formReactivo.controls['name'].invalid && (formReactivo.get('name')?.dirty || formReactivo.get('name')?.touched), 
                            'is-valid': formReactivo.controls['name'].valid}">
                @if(formReactivo.controls['name'].invalid && (formReactivo.controls['name'].dirty || formReactivo.controls['name'].touched)){
                  <div class="text-danger">Ingrese su nombre</div>
                }
              </div>
            </div>
          </div>
          <div class="col-6">
            <div class="d-flex align-items-center">
              <label class="form-label mb-0" style="width: 100px;">Apellido</label>
              <input type="text" class="form-control" formControlName="lastname"
                [ngClass]="{'is-invalid': formReactivo.controls['lastname'].invalid && (formReactivo.get('lastname')?.dirty || formReactivo.get('lastname')?.touched),
                          'is-valid': formReactivo.controls['lastname'].valid}">
            </div>
            @if(formReactivo.controls['lastname'].invalid && (formReactivo.controls['lastname'].dirty || formReactivo.controls['lastname'].touched)){
              <div class="text-danger ms-5 ps-4">Ingrese su apellido</div>
            }
          </div>
        </div>
        <div class="row mb-4">
          <div class="col-6 pe-5">
            <div class="d-flex">
              <label class="form-label mb-0 me-3" style="width: 140px;">DNI</label>
              <div class="flex-grow-1">
                <input type="text" class="form-control" formControlName="dni"
                  [ngClass]="{'is-invalid': formReactivo.controls['dni'].invalid && (formReactivo.get('dni')?.dirty || formReactivo.get('dni')?.touched),
                            'is-valid': formReactivo.controls['dni'].valid}">
                @if(formReactivo.controls['dni'].invalid && (formReactivo.controls['dni'].dirty || formReactivo.controls['dni'].touched)){
                  <div class="text-danger">Ingrese su DNI</div>
                }
              </div>
            </div>
          </div>
          <div class="col-6">
            <div class="d-flex align-items-center">
              <label class="form-label mb-0" style="width: 100px;">CUIT - CUIL</label>
              <input type="text" class="form-control" formControlName="cuit_cuil"
                [ngClass]="{'is-invalid': formReactivo.controls['cuit_cuil'].invalid && (formReactivo.get('cuit_cuil')?.dirty || formReactivo.get('cuit_cuil')?.touched),
                          'is-valid': formReactivo.controls['cuit_cuil'].valid}">
            </div>
            @if(formReactivo.controls['cuit_cuil'].invalid && (formReactivo.controls['cuit_cuil'].dirty || formReactivo.controls['cuit_cuil'].touched)){
              <div class="text-danger ms-5 ps-4">Ingrese su CUIT - CUIL</div>
            }
          </div>
        </div>
        <div class="row mb-4">
          <div class="col-6 pe-5">
            <div class="d-flex">
              <label class="form-label mb-0 me-3" style="width: 140px;">Fecha de nacimiento</label>
              <div class="flex-grow-1">
                <input type="date" class="form-control" formControlName="birthdate"
                  [ngClass]="{'is-invalid': formReactivo.controls['birthdate'].invalid && (formReactivo.get('birthdate')?.dirty || formReactivo.get('birthdate')?.touched),
                            'is-valid': formReactivo.controls['birthdate'].valid}">
                @if(formReactivo.controls['birthdate'].invalid && (formReactivo.controls['birthdate'].dirty || formReactivo.controls['birthdate'].touched)){
                  <div class="text-danger">Ingrese su Fecha de nacimiento</div>
                }
              </div>
            </div>
          </div>
          <div class="col-6">
            <div class="d-flex align-items-center">
              <label class="form-label mb-0" style="width: 100px;">Email</label>
              <input type="text" class="form-control" formControlName="email"
                [ngClass]="{'is-invalid': formReactivo.controls['email'].invalid && (formReactivo.get('email')?.dirty || formReactivo.get('email')?.touched),
                          'is-valid': formReactivo.controls['email'].valid}">
            </div>
            @if(formReactivo.controls['email'].invalid && (formReactivo.controls['email'].dirty || formReactivo.controls['email'].touched)){
              <div class="text-danger ms-5 ps-4">Ingrese su Email</div>
            }
          </div>
        </div>
        <div class="row mb-4">
          <div class="col-6 pe-5">
            <div class="d-flex">
              <label class="form-label mb-0 me-3" style="width: 140px;">Estado fiscal</label>
              <div class="flex-grow-1">
                <select class="form-select" formControlName="state"
                  [ngClass]="{'is-invalid': formReactivo.controls['state'].invalid && (formReactivo.get('state')?.dirty || formReactivo.get('state')?.touched),
                            'is-valid': formReactivo.controls['state'].valid}">
                  @for (s of states; track $index) {
                    <option value="{{s.id}}">{{s.description}}</option>
                  }
                </select>
                @if(formReactivo.controls['state'].invalid && (formReactivo.get('state')?.dirty || formReactivo.get('state')?.touched)){
                  <div class="text-danger">Seleccione un estado fiscal</div>
                }
              </div>
            </div>
          </div>
          <div class="col-6">
            <div class="d-flex align-items-center">
              <label class="form-label mb-0" style="width: 100px;">Tipo</label>
              <select class="form-select" formControlName="type"
                [ngClass]="{'is-invalid': formReactivo.controls['type'].invalid && (formReactivo.get('type')?.dirty || formReactivo.get('type')?.touched),
                          'is-valid': formReactivo.controls['type'].valid}">
                @for (t of types; track $index) {
                  <option value="{{t.id}}">{{t.description}}</option>
                }
              </select>
            </div>
            @if(formReactivo.controls['type'].invalid && (formReactivo.get('type')?.dirty || formReactivo.get('type')?.touched)){
              <div class="text-danger ms-5 ps-4">Seleccione un tipo propietario</div>
            }
          </div>
        </div>
        <div class="row mb-4">
          <div class="col-6 pe-5">
            <div class="d-flex">
              <label class="form-label mb-0 me-3" style="width: 140px;">Nombre de usuario</label>
              <div class="flex-grow-1">
                <input type="text" class="form-control" formControlName="username"
                  [ngClass]="{'is-invalid': formReactivo.controls['username'].invalid && (formReactivo.get('username')?.dirty || formReactivo.get('username')?.touched),
                            'is-valid': formReactivo.controls['username'].valid}">
                @if(formReactivo.controls['username'].invalid && (formReactivo.controls['username'].dirty || formReactivo.controls['username'].touched)){
                  <div class="text-danger">Ingrese su nombre de usuario</div>
                }
              </div>
            </div>
          </div>
          <div class="col-6">
            <div class="d-flex align-items-center">
              <label class="form-label mb-0" style="width: 100px;">Contraseña</label>
              <input type="password" class="form-control" formControlName="password"
                [ngClass]="{'is-invalid': formReactivo.controls['password'].invalid && (formReactivo.get('password')?.dirty || formReactivo.get('password')?.touched),
                          'is-valid': formReactivo.controls['password'].valid}">
            </div>
            @if(formReactivo.controls['password'].invalid && (formReactivo.controls['password'].dirty || formReactivo.controls['password'].touched)){
              <div class="text-danger ms-5 ps-4">Ingrese su contraseña</div>
            }
          </div>
        </div>
        <div class="row justify-content-end mt-4">
          <div class="col-auto">
            <button type="button" class="btn btn-secondary">Cancelar</button>
          </div>
          <div class="col-auto">
            <button type="submit" class="btn btn-primary" [disabled]="formReactivo.invalid">Crear</button>
          </div>
        </div>
      </form>
    </section>